@model ForumPostDetailsViewModel
@{
    ViewData["Title"] = "Delete Forum Post";
}

<div class="container py-5">
    <div class="bg-white rounded shadow p-4">
        <h2 class="text-dark fw-bold mb-3">🗑️ Confirm Delete</h2>
        <p class="text-muted">Are you sure you want to delete this forum post? This action cannot be undone.</p>

        <div class="border rounded p-3 bg-light mb-4">
            <h4 class="text-dark">@Model.Title</h4>
            <p class="text-muted mb-1"><strong>Topic:</strong> @Model.Topic.Title</p>
            <p class="text-muted small"><strong>Posted on:</strong> @Model.CreatedDate.ToString("f")</p>
            <p class="mt-3">@Model.Content</p>
        </div>

        <form id="delete-form" asp-action="Delete" method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" asp-for="Id" />

            <div class="d-flex justify-content-between">
                <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> Cancel
                </a>
                <button type="button" id="confirm-delete-btn" class="btn btn-danger fw-bold">
                    <i class="bi bi-trash3"></i> Yes, Delete It
                </button>
            </div>
        </form>
    </div>
</div>

<script>
        document.getElementById("confirm-delete-btn")?.addEventListener("click", function () {
            Swal.fire({
                title: 'Are you sure?',
                text: "This post will be permanently deleted.",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Yes, delete it!',
                cancelButtonText: 'Cancel',
                confirmButtonColor: '#d81324',
                cancelButtonColor: '#6c757d',
                background: '#fff',
                customClass: {
                    popup: 'shadow rounded',
                    confirmButton: 'btn btn-danger fw-bold',
                    cancelButton: 'btn btn-secondary fw-bold ms-2'
                },
                buttonsStyling: false
            }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById("delete-form").submit();
                }
            });
        });


    </script>

